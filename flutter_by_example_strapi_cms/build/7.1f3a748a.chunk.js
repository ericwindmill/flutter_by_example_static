(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[7],{

/***/ 2223:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 18px 30px 18px 30px;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Container=_styledComponents["default"].div(_templateObject());var _default=Container;exports["default"]=_default;

/***/ }),

/***/ 2236:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  .btn-group button {\n    line-height: 28px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var SortWrapper=_styledComponents["default"].div(_templateObject());var _default=SortWrapper;exports["default"]=_default;

/***/ }),

/***/ 2253:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _strapiHelperPlugin=__webpack_require__(8);var _reactIntl=__webpack_require__(17);var _lodash=__webpack_require__(10);var _core=__webpack_require__(27);var PopupForm=function PopupForm(_ref){var headerId=_ref.headerId,isOpen=_ref.isOpen,onClosed=_ref.onClosed,onSubmit=_ref.onSubmit,onToggle=_ref.onToggle,renderForm=_ref.renderForm,subHeaderContent=_ref.subHeaderContent,type=_ref.type;var getAttrType=function getAttrType(){if(type==='timestamp'){return'date';}if(['decimal','float','integer','biginter'].includes(type)){return'number';}return type;};return/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.Modal,{isOpen:isOpen,onClosed:onClosed,onToggle:onToggle},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.HeaderModal,null,/*#__PURE__*/_react["default"].createElement("section",null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.HeaderModalTitle,{style:{textTransform:'none'}},/*#__PURE__*/_react["default"].createElement(_core.AttributeIcon,{type:getAttrType(),style:{margin:'auto 20px auto 0'}}),/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:headerId}))),/*#__PURE__*/_react["default"].createElement("section",null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.HeaderModalTitle,null,/*#__PURE__*/_react["default"].createElement("span",null,(0,_lodash.upperFirst)(subHeaderContent)),/*#__PURE__*/_react["default"].createElement("hr",null)))),/*#__PURE__*/_react["default"].createElement("form",{onSubmit:onSubmit},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.ModalForm,null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.ModalBody,null,renderForm())),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.ModalFooter,null,/*#__PURE__*/_react["default"].createElement("section",null,/*#__PURE__*/_react["default"].createElement(_core.Button,{onClick:onToggle,color:"cancel"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.popUpWarning.button.cancel"})),/*#__PURE__*/_react["default"].createElement(_core.Button,{type:"submit",color:"success"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"form.button.done"}))))));};PopupForm.defaultProps={isOpen:false,onClosed:function onClosed(){},onSubmit:function onSubmit(){},onToggle:function onToggle(){},renderForm:function renderForm(){},subHeaderContent:'',type:''};PopupForm.propTypes={headerId:_propTypes["default"].string.isRequired,isOpen:_propTypes["default"].bool,onClosed:_propTypes["default"].func,onSubmit:_propTypes["default"].func,onToggle:_propTypes["default"].func,renderForm:_propTypes["default"].func,subHeaderContent:_propTypes["default"].string,type:_propTypes["default"].string};var _default=PopupForm;exports["default"]=_default;

/***/ }),

/***/ 2254:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(44));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(47));var _extends2=_interopRequireDefault(__webpack_require__(6));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(43));var _slicedToArray2=_interopRequireDefault(__webpack_require__(18));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(10);var _reactRouterDom=__webpack_require__(39);var _reactIntl=__webpack_require__(17);var _custom=__webpack_require__(66);var _strapiHelperPlugin=__webpack_require__(8);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _Block=_interopRequireDefault(__webpack_require__(2255));var _Container=_interopRequireDefault(__webpack_require__(2223));var _SectionTitle=_interopRequireDefault(__webpack_require__(2257));var _Separator=_interopRequireDefault(__webpack_require__(2259));var SettingsViewWrapper=function SettingsViewWrapper(_ref){var children=_ref.children,goBack=_ref.history.goBack,getListDisplayedFields=_ref.getListDisplayedFields,inputs=_ref.inputs,initialData=_ref.initialData,isEditSettings=_ref.isEditSettings,isLoading=_ref.isLoading,modifiedData=_ref.modifiedData,onChange=_ref.onChange,onConfirmReset=_ref.onConfirmReset,onConfirmSubmit=_ref.onConfirmSubmit,name=_ref.name;var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),emitEvent=_useGlobalContext.emitEvent,formatMessage=_useGlobalContext.formatMessage;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showWarningCancel=_useState2[0],setWarningCancel=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),showWarningSubmit=_useState4[0],setWarningSubmit=_useState4[1];var getAttributes=(0,_react.useMemo)(function(){return(0,_lodash.get)(modifiedData,['schema','attributes'],{});},[modifiedData]);var toggleWarningCancel=function toggleWarningCancel(){return setWarningCancel(function(prevState){return!prevState;});};var toggleWarningSubmit=function toggleWarningSubmit(){return setWarningSubmit(function(prevState){return!prevState;});};var getPluginHeaderActions=function getPluginHeaderActions(){return[{color:'cancel',onClick:toggleWarningCancel,label:formatMessage({id:"".concat(_pluginId["default"],".popUpWarning.button.cancel")}),type:'button',disabled:(0,_lodash.isEqual)(modifiedData,initialData),style:{fontWeight:600,paddingLeft:15,paddingRight:15}},{color:'success',label:formatMessage({id:"".concat(_pluginId["default"],".containers.Edit.submit")}),type:'submit',disabled:(0,_lodash.isEqual)(modifiedData,initialData),style:{minWidth:150,fontWeight:600}}];};var headerProps={actions:getPluginHeaderActions(),title:{label:formatMessage({id:"".concat(_pluginId["default"],".components.SettingsViewWrapper.pluginHeader.title")},{name:(0,_lodash.upperFirst)(name)})},content:formatMessage({id:"".concat(_pluginId["default"],".components.SettingsViewWrapper.pluginHeader.description.").concat(isEditSettings?'edit':'list',"-settings")})};var getSelectOptions=function getSelectOptions(input){if(input.name==='settings.defaultSortBy'){return['id'].concat((0,_toConsumableArray2["default"])(getListDisplayedFields().filter(function(name){return(0,_lodash.get)(getAttributes,[name,'type'],'')!=='media'&&name!=='id'&&(0,_lodash.get)(getAttributes,[name,'type'],'')!=='richtext';})));}if(input.name==='settings.mainField'){var attributes=getAttributes;var options=Object.keys(attributes).filter(function(attr){var type=(0,_lodash.get)(attributes,[attr,'type'],'');return!['json','text','relation','component','boolean','date','media','richtext'].includes(type)&&!!type;});return options;}return input.options;};var handleSubmit=function handleSubmit(e){e.preventDefault();toggleWarningSubmit();emitEvent('willSaveContentTypeLayout');};if(isLoading){return/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.LoadingIndicatorPage,null);}return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.BackHeader,{onClick:goBack}),/*#__PURE__*/_react["default"].createElement(_Container["default"],{className:"container-fluid"},/*#__PURE__*/_react["default"].createElement("form",{onSubmit:handleSubmit},/*#__PURE__*/_react["default"].createElement(_custom.Header,headerProps),/*#__PURE__*/_react["default"].createElement("div",{className:"row",style:{paddingTop:'3px'}},/*#__PURE__*/_react["default"].createElement(_Block["default"],{style:{marginBottom:'13px',paddingBottom:'30px',paddingTop:'24px'}},/*#__PURE__*/_react["default"].createElement(_SectionTitle["default"],{isSettings:true}),/*#__PURE__*/_react["default"].createElement("div",{className:"row"},inputs.map(function(input){return/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{key:input.name,id:input.label.id},function(label){return/*#__PURE__*/_react["default"].createElement("div",{className:input.customBootstrapClass},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:(0,_lodash.get)(input,'description.id','app.utils.defaultMessage')},function(description){return/*#__PURE__*/_react["default"].createElement(_custom.Inputs,(0,_extends2["default"])({},input,{description:description,label:label===' '?null:label,onChange:onChange,options:getSelectOptions(input),value:(0,_lodash.get)(modifiedData,input.name,'')}));}));});}),/*#__PURE__*/_react["default"].createElement("div",{className:"col-12"},/*#__PURE__*/_react["default"].createElement(_Separator["default"],{style:{marginBottom:20}}))),/*#__PURE__*/_react["default"].createElement(_SectionTitle["default"],null),children)),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarning,{isOpen:showWarningCancel,toggleModal:toggleWarningCancel,content:{title:"".concat(_pluginId["default"],".popUpWarning.title"),message:"".concat(_pluginId["default"],".popUpWarning.warning.cancelAllSettings"),cancel:"".concat(_pluginId["default"],".popUpWarning.button.cancel"),confirm:"".concat(_pluginId["default"],".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:function onConfirm(){onConfirmReset();toggleWarningCancel();}}),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarning,{isOpen:showWarningSubmit,toggleModal:toggleWarningSubmit,content:{title:"".concat(_pluginId["default"],".popUpWarning.title"),message:"".concat(_pluginId["default"],".popUpWarning.warning.updateAllSettings"),cancel:"".concat(_pluginId["default"],".popUpWarning.button.cancel"),confirm:"".concat(_pluginId["default"],".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return onConfirmSubmit();case 2:toggleWarningSubmit();case 3:case"end":return _context.stop();}}},_callee);}))}))));};SettingsViewWrapper.defaultProps={getListDisplayedFields:function getListDisplayedFields(){return[];},inputs:[],initialData:{},isEditSettings:false,modifiedData:{},name:'',onConfirmReset:function onConfirmReset(){},onConfirmSubmit:function(){var _onConfirmSubmit=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:case"end":return _context2.stop();}}},_callee2);}));function onConfirmSubmit(){return _onConfirmSubmit.apply(this,arguments);}return onConfirmSubmit;}(),onSubmit:function onSubmit(){},pluginHeaderProps:{actions:[],description:{id:'app.utils.defaultMessage'},title:{id:'app.utils.defaultMessage',values:{}}}};SettingsViewWrapper.propTypes={children:_propTypes["default"].node.isRequired,getListDisplayedFields:_propTypes["default"].func,history:_propTypes["default"].shape({goBack:_propTypes["default"].func.isRequired}).isRequired,initialData:_propTypes["default"].object,inputs:_propTypes["default"].array,isEditSettings:_propTypes["default"].bool,isLoading:_propTypes["default"].bool.isRequired,modifiedData:_propTypes["default"].object,name:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired,onConfirmReset:_propTypes["default"].func,onConfirmSubmit:_propTypes["default"].func,onSubmit:_propTypes["default"].func,pluginHeaderProps:_propTypes["default"].shape({actions:_propTypes["default"].array,description:_propTypes["default"].shape({id:_propTypes["default"].string}),title:_propTypes["default"].shape({id:_propTypes["default"].string,values:_propTypes["default"].object})})};var _default=(0,_reactRouterDom.withRouter)(SettingsViewWrapper);exports["default"]=_default;

/***/ }),

/***/ 2255:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(7);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(17);var _components=__webpack_require__(2256);/**
 *
 * Block
 */var renderMsg=function renderMsg(msg){return/*#__PURE__*/_react["default"].createElement("p",null,msg);};var Block=function Block(_ref){var children=_ref.children,description=_ref.description,style=_ref.style,title=_ref.title;return/*#__PURE__*/_react["default"].createElement("div",{className:"col-md-12"},/*#__PURE__*/_react["default"].createElement(_components.Wrapper,{style:style},/*#__PURE__*/_react["default"].createElement(_components.Sub,null,!!title&&/*#__PURE__*/_react["default"].createElement("p",null,/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:title})),!!description&&/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:description},renderMsg)),children));};Block.defaultProps={children:null,description:null,style:{},title:null};Block.propTypes={children:_propTypes["default"].any,description:_propTypes["default"].string,style:_propTypes["default"].object,title:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(Block);exports["default"]=_default;

/***/ }),

/***/ 2256:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.Sub=exports.Wrapper=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: 0px;\n  line-height: 18px;\n  > p:first-child {\n    margin-bottom: 1px;\n    font-weight: 700;\n    color: #333740;\n    font-size: 1.8rem;\n  }\n  > p {\n    color: #787e8f;\n    font-size: 13px;\n  }\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  margin-bottom: 35px;\n  background: #ffffff;\n  padding: 22px 28px 18px;\n  padding-bottom: 13px;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  -webkit-font-smoothing: antialiased;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());exports.Wrapper=Wrapper;var Sub=_styledComponents["default"].div(_templateObject2());exports.Sub=Sub;

/***/ }),

/***/ 2257:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(7);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(17);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _Title=_interopRequireDefault(__webpack_require__(2258));var SectionTitle=function SectionTitle(_ref){var isSettings=_ref.isSettings;var suffix=isSettings?'settings':'view';var msgId="".concat(_pluginId["default"],".containers.SettingPage.").concat(suffix);return/*#__PURE__*/_react["default"].createElement("div",{style:{marginBottom:'18px'}},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:msgId},function(msg){return/*#__PURE__*/_react["default"].createElement(_Title["default"],null,msg);}));};SectionTitle.propTypes={isSettings:_propTypes["default"].bool};SectionTitle.defaultProps={isSettings:false};var _default=/*#__PURE__*/(0,_react.memo)(SectionTitle);exports["default"]=_default;

/***/ }),

/***/ 2258:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: #787e8f;\n  font-size: 11px;\n  font-weight: 700;\n  letter-spacing: 0.77px;\n  text-transform: uppercase;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Title=_styledComponents["default"].div(_templateObject());var _default=Title;exports["default"]=_default;

/***/ }),

/***/ 2259:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  margin-top: 17px;\n  margin-bottom: 24px;\n  border-top: 1px solid #f6f6f6;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Separator=_styledComponents["default"].div(_templateObject());var _default=Separator;exports["default"]=_default;

/***/ }),

/***/ 2600:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(44));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(47));var _slicedToArray2=_interopRequireDefault(__webpack_require__(18));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(10);var _strapiHelperPlugin=__webpack_require__(8);var _reactIntl=__webpack_require__(17);var _reactDnd=__webpack_require__(125);var _reactstrap=__webpack_require__(61);var _custom=__webpack_require__(66);var _pluginId=_interopRequireDefault(__webpack_require__(104));var _ItemTypes=_interopRequireDefault(__webpack_require__(755));var _getRequestUrl=_interopRequireDefault(__webpack_require__(757));var _PopupForm=_interopRequireDefault(__webpack_require__(2253));var _SettingsViewWrapper=_interopRequireDefault(__webpack_require__(2254));var _SortWrapper=_interopRequireDefault(__webpack_require__(2236));var _LayoutDndProvider=_interopRequireDefault(__webpack_require__(759));var _Label=_interopRequireDefault(__webpack_require__(2601));var _MenuDropdown=_interopRequireDefault(__webpack_require__(2602));var _DropdownButton=_interopRequireDefault(__webpack_require__(2603));var _DragWrapper=_interopRequireDefault(__webpack_require__(2604));var _Toggle=_interopRequireDefault(__webpack_require__(2605));var _reducer=_interopRequireWildcard(__webpack_require__(2606));var _forms=_interopRequireDefault(__webpack_require__(2607));var ListSettingsView=function ListSettingsView(_ref){var deleteLayout=_ref.deleteLayout,slug=_ref.slug;var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),reducerState=_useReducer2[0],dispatch=_useReducer2[1];var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isModalFormOpen=_useState4[0],setIsModalFormOpen=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isDraggingSibling=_useState6[0],setIsDraggingSibling=_useState6[1];var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),emitEvent=_useGlobalContext.emitEvent;var toggleModalForm=function toggleModalForm(){return setIsModalFormOpen(function(prevState){return!prevState;});};var _reducerState$toJS=reducerState.toJS(),labelForm=_reducerState$toJS.labelForm,labelToEdit=_reducerState$toJS.labelToEdit,initialData=_reducerState$toJS.initialData,modifiedData=_reducerState$toJS.modifiedData,isLoading=_reducerState$toJS.isLoading;var abortController=new AbortController();var signal=abortController.signal;var getAttributes=(0,_react.useMemo)(function(){return(0,_lodash.get)(modifiedData,['schema','attributes'],{});},[modifiedData]);(0,_react.useEffect)(function(){var getData=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var _yield$request,data;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_strapiHelperPlugin.request)((0,_getRequestUrl["default"])("content-types/".concat(slug)),{method:'GET',signal:signal});case 3:_yield$request=_context.sent;data=_yield$request.data;dispatch({type:'GET_DATA_SUCCEEDED',data:data.contentType});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);if(_context.t0.code!==20){strapi.notification.error('notification.error');}case 11:case"end":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getData(){return _ref2.apply(this,arguments);};}();getData();return function(){abortController.abort();};// eslint-disable-next-line react-hooks/exhaustive-deps
},[slug]);var getName=(0,_react.useMemo)(function(){return(0,_lodash.get)(modifiedData,['schema','info','name'],'');},[modifiedData]);var getListDisplayedFields=function getListDisplayedFields(){return(0,_lodash.get)(modifiedData,['layouts','list'],[]);};var getListRemainingFields=function getListRemainingFields(){var metadatas=(0,_lodash.get)(modifiedData,['metadatas'],{});var attributes=getAttributes;return Object.keys(metadatas).filter(function(key){var type=(0,_lodash.get)(attributes,[key,'type'],'');return!['json','component','richtext','relation'].includes(type)&&!!type;}).filter(function(field){return!getListDisplayedFields().includes(field);});};var handleClickEditLabel=function handleClickEditLabel(labelToEdit){dispatch({type:'SET_LABEL_TO_EDIT',labelToEdit:labelToEdit});toggleModalForm();};var handleClosed=function handleClosed(){dispatch({type:'UNSET_LABEL_TO_EDIT'});};var handleChange=function handleChange(_ref3){var _ref3$target=_ref3.target,name=_ref3$target.name,value=_ref3$target.value;dispatch({type:'ON_CHANGE',keys:name,value:name==='settings.pageSize'?parseInt(value,10):value});};var handleChangeEditLabel=function handleChangeEditLabel(_ref4){var _ref4$target=_ref4.target,name=_ref4$target.name,value=_ref4$target.value;dispatch({type:'ON_CHANGE_LABEL_METAS',name:name,value:value});};var handleConfirm=/*#__PURE__*/function(){var _ref5=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var body;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;body=(0,_lodash.cloneDeep)(modifiedData);delete body.apiID;delete body.schema;delete body.uid;_context2.next=7;return(0,_strapiHelperPlugin.request)((0,_getRequestUrl["default"])("content-types/".concat(slug)),{method:'PUT',body:body,signal:signal});case 7:dispatch({type:'SUBMIT_SUCCEEDED'});deleteLayout(slug);emitEvent('didEditListSettings');_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2["catch"](0);strapi.notification.error('notification.error');case 15:case"end":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return function handleConfirm(){return _ref5.apply(this,arguments);};}();var move=function move(originalIndex,atIndex){dispatch({type:'MOVE_FIELD',originalIndex:originalIndex,atIndex:atIndex});};var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].FIELD}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var renderForm=function renderForm(){return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement("div",{className:"col-6",style:{marginBottom:4}},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".form.Input.label")},function(label){return/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".form.Input.label.inputDescription")},function(description){return/*#__PURE__*/_react["default"].createElement(_custom.Inputs,{description:description,label:label,type:"text",name:"label",onBlur:function onBlur(){},value:(0,_lodash.get)(labelForm,'label',''),onChange:handleChangeEditLabel});});})),(0,_lodash.get)(getAttributes,[labelToEdit,'type'],'text')!=='media'&&/*#__PURE__*/_react["default"].createElement("div",{className:"col-6",style:{marginBottom:4}},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".form.Input.sort.field")},function(label){return/*#__PURE__*/_react["default"].createElement(_custom.Inputs,{label:label,type:"bool",name:"sortable",value:(0,_lodash.get)(labelForm,'sortable',false),onChange:handleChangeEditLabel});})));};return/*#__PURE__*/_react["default"].createElement(_LayoutDndProvider["default"],{isDraggingSibling:isDraggingSibling,setIsDraggingSibling:setIsDraggingSibling},/*#__PURE__*/_react["default"].createElement(_SettingsViewWrapper["default"],{getListDisplayedFields:getListDisplayedFields,inputs:_forms["default"],isLoading:isLoading,initialData:initialData,modifiedData:modifiedData,onChange:handleChange,onConfirmReset:function onConfirmReset(){dispatch({type:'ON_RESET'});},onConfirmSubmit:handleConfirm,name:getName},/*#__PURE__*/_react["default"].createElement(_DragWrapper["default"],null,/*#__PURE__*/_react["default"].createElement("div",{className:"row"},/*#__PURE__*/_react["default"].createElement("div",{className:"col-12"},/*#__PURE__*/_react["default"].createElement(_SortWrapper["default"],{ref:drop,style:{display:'flex',width:'100%'}},getListDisplayedFields().map(function(item,index){var label=(0,_lodash.get)(modifiedData,['metadatas',item,'list','label'],'');return/*#__PURE__*/_react["default"].createElement(_Label["default"],{count:getListDisplayedFields().length,key:item,index:index,isDraggingSibling:isDraggingSibling,label:label,move:move,name:item,onClick:handleClickEditLabel,onRemove:function onRemove(e){e.stopPropagation();if(getListDisplayedFields().length===1){strapi.notification.info("".concat(_pluginId["default"],".notification.info.minimumFields"));}else{dispatch({type:'REMOVE_FIELD',index:index});}},selectedItem:labelToEdit,setIsDraggingSibling:setIsDraggingSibling});})))),/*#__PURE__*/_react["default"].createElement(_DropdownButton["default"],{isOpen:isOpen,toggle:function toggle(){if(getListRemainingFields().length>0){setIsOpen(function(prevState){return!prevState;});}},direction:"down",style:{position:'absolute',top:11,right:10}},/*#__PURE__*/_react["default"].createElement(_Toggle["default"],{disabled:getListRemainingFields().length===0}),/*#__PURE__*/_react["default"].createElement(_MenuDropdown["default"],null,getListRemainingFields().map(function(item){return/*#__PURE__*/_react["default"].createElement(_reactstrap.DropdownItem,{key:item,onClick:function onClick(){dispatch({type:'ADD_FIELD',item:item});}},item);}))))),/*#__PURE__*/_react["default"].createElement(_PopupForm["default"],{headerId:"".concat(_pluginId["default"],".containers.ListSettingsView.modal-form.edit-label"),isOpen:isModalFormOpen,onClosed:handleClosed,onSubmit:function onSubmit(e){e.preventDefault();toggleModalForm();dispatch({type:'SUBMIT_LABEL_FORM'});},onToggle:toggleModalForm,renderForm:renderForm,subHeaderContent:labelToEdit,type:(0,_lodash.get)(getAttributes,[labelToEdit,'type'],'text')}));};ListSettingsView.propTypes={deleteLayout:_propTypes["default"].func.isRequired,location:_propTypes["default"].shape({search:_propTypes["default"].string.isRequired}).isRequired,slug:_propTypes["default"].string.isRequired};var _default=ListSettingsView;exports["default"]=_default;

/***/ }),

/***/ 2601:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(18));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactDnd=__webpack_require__(125);var _reactDndHtml5Backend=__webpack_require__(283);var _ItemTypes=_interopRequireDefault(__webpack_require__(755));var _DraggedField=_interopRequireDefault(__webpack_require__(760));var _useLayoutDnd2=_interopRequireDefault(__webpack_require__(756));var Label=function Label(_ref){var count=_ref.count,index=_ref.index,label=_ref.label,move=_ref.move,name=_ref.name,onClick=_ref.onClick,onRemove=_ref.onRemove,selectedItem=_ref.selectedItem;var ref=(0,_react.useRef)(null);var _useLayoutDnd=(0,_useLayoutDnd2["default"])(),setIsDraggingSibling=_useLayoutDnd.setIsDraggingSibling;var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].FIELD,hover:function hover(item){if(!ref.current){return;}var dragIndex=item.index;var hoverIndex=index;// Don't replace items with themselves
if(dragIndex===hoverIndex){return;}move(dragIndex,hoverIndex);item.index=hoverIndex;}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var _useDrag=(0,_reactDnd.useDrag)({begin:function begin(){setIsDraggingSibling(true);},end:function end(){setIsDraggingSibling(false);},item:{type:_ItemTypes["default"].FIELD,id:name,name:name,index:index},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:false});},[preview]);drag(drop(ref));return/*#__PURE__*/_react["default"].createElement(_DraggedField["default"],{count:count,ref:ref,isDragging:isDragging,label:label,name:name,onClick:onClick,onRemove:onRemove,selectedItem:selectedItem});};Label.defaultProps={index:0,label:'',selectedItem:''};Label.propTypes={count:_propTypes["default"].number.isRequired,index:_propTypes["default"].number,label:_propTypes["default"].string,move:_propTypes["default"].func.isRequired,name:_propTypes["default"].string.isRequired,onClick:_propTypes["default"].func.isRequired,onRemove:_propTypes["default"].func.isRequired,selectedItem:_propTypes["default"].string};var _default=Label;exports["default"]=_default;

/***/ }),

/***/ 2602:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _reactstrap=__webpack_require__(61);function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  max-height: 180px;\n  min-width: 230px;\n  margin-left: -1px;\n  margin-top: -1px;\n  padding: 0;\n  border-top-left-radius: 0 !important;\n  border-top-right-radius: 0;\n  border-color: #e3e9f3 !important;\n  border-top-color: #aed4fb !important;\n  box-shadow: 0 2px 3px rgba(227, 233, 245, 0.5);\n  transform: translate3d(-199px, 30px, 0px) !important;\n\n  overflow: scroll;\n\n  button {\n    height: 30px;\n    padding-left: 10px !important;\n    line-height: 26px;\n    cursor: pointer;\n    font-size: 13px !important;\n    &:focus,\n    &:active,\n    &:hover,\n    &:hover {\n      background-color: #fafafb !important;\n      color: #333740;\n      outline: 0;\n    }\n    div {\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var MenuDropdown=(0,_styledComponents["default"])(_reactstrap.DropdownMenu)(_templateObject());var _default=MenuDropdown;exports["default"]=_default;

/***/ }),

/***/ 2603:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _reactstrap=__webpack_require__(61);function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: table-cell;\n"]);_templateObject=function _templateObject(){return data;};return data;}var DropdownButton=(0,_styledComponents["default"])(_reactstrap.ButtonDropdown)(_templateObject());var _default=DropdownButton;exports["default"]=_default;

/***/ }),

/***/ 2604:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding: 11px 40px 11px 11px;\n  margin-top: 19px;\n  margin-bottom: 10px;\n  border: 1px dashed #e3e9f3;\n  border-radius: 2px;\n  > div,\n  > div > div {\n    margin: 0;\n    padding: 0;\n  }\n  > div > div {\n    overflow-x: auto;\n    overflow-y: scroll;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var DragWrapper=_styledComponents["default"].div(_templateObject());var _default=DragWrapper;exports["default"]=_default;

/***/ }),

/***/ 2605:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _reactstrap=__webpack_require__(61);function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  width: 30px;\n  height: 30px;\n  background: #fafafb;\n  border: 1px solid #e3e9f3;\n  border-radius: 2px;\n  border-top-right-radius: 2px !important;\n  border-bottom-right-radius: 2px !important;\n  color: #b3b5b9;\n\n  &:disabled {\n    cursor: not-allowed !important;\n\n    background: #fafafb;\n    border: 1px solid #e3e9f3;\n    border-radius: 2px;\n    color: #b3b5b9;\n  }\n\n  &:before {\n    ","\n  }\n\n  &:hover,\n  :active,\n  :focus {\n    ","\n\n    &:before {\n      ","\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var openedStyle="\n  background-color: #e6f0fb !important;\n  border: 1px solid #aed4fb !important;\n  color: #007eff !important;\n";var beforeStyle="\n  content: '\f067';\n  font-family: FontAwesome;\n  font-size: 13px;\n  -webkit-font-smoothing: antialiased;\n";var Toggle=(0,_styledComponents["default"])(_reactstrap.DropdownToggle)(_templateObject(),beforeStyle,openedStyle,beforeStyle);var _default=Toggle;exports["default"]=_default;

/***/ }),

/***/ 2606:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(43));var _immutable=__webpack_require__(38);var initialState=(0,_immutable.fromJS)({labelForm:{},labelToEdit:'',initialData:{},isLoading:true,modifiedData:{}});exports.initialState=initialState;var reducer=function reducer(state,action){var layoutPath=['modifiedData','layouts','list'];switch(action.type){case'ADD_FIELD':return state.updateIn(layoutPath,function(list){return list.push(action.item);});case'GET_DATA_SUCCEEDED':return state.update('initialData',function(){return(0,_immutable.fromJS)(action.data);}).update('isLoading',function(){return false;}).update('modifiedData',function(){return(0,_immutable.fromJS)(action.data);});case'MOVE_FIELD':return state.updateIn(['modifiedData','layouts','list'],function(list){return list["delete"](action.originalIndex).insert(action.atIndex,list.get(action.originalIndex));});case'ON_CHANGE':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys.split('.'))),function(){return action.value;});case'ON_CHANGE_LABEL_METAS':return state.updateIn(['labelForm',action.name],function(){return action.value;});case'ON_RESET':return state.update('modifiedData',function(){return state.get('initialData');});case'REMOVE_FIELD':{var defaultSortByPath=['modifiedData','settings','defaultSortBy'];var defaultSortBy=state.getIn(defaultSortByPath);var attrPath=['modifiedData','layouts','list',action.index];var attrToBeRemoved=state.getIn(attrPath);var firstAttr=state.getIn(['modifiedData','layouts','list',1]);var firstAttrType=state.getIn(['modifiedData','schema','attributes',firstAttr,'type']);var attrToSelect=firstAttrType!=='media'&&firstAttrType!=='richtext'?firstAttr:'id';return state.removeIn(['modifiedData','layouts','list',action.index]).updateIn(defaultSortByPath,function(){if(attrToBeRemoved===defaultSortBy){return attrToSelect;}return defaultSortBy;});}case'SET_LABEL_TO_EDIT':return state.update('labelToEdit',function(){return action.labelToEdit;}).updateIn(['labelForm','label'],function(){return state.getIn(['modifiedData','metadatas',action.labelToEdit,'list','label']);}).updateIn(['labelForm','sortable'],function(){return state.getIn(['modifiedData','metadatas',action.labelToEdit,'list','sortable']);});case'UNSET_LABEL_TO_EDIT':return state.update('labelToEdit',function(){return'';}).update('labelForm',function(){return(0,_immutable.fromJS)({});});case'SUBMIT_LABEL_FORM':{var metaPath=['modifiedData','metadatas',state.get('labelToEdit'),'list'];return state.updateIn([].concat(metaPath,['label']),function(){return state.getIn(['labelForm','label']);}).updateIn([].concat(metaPath,['sortable']),function(){return state.getIn(['labelForm','sortable']);});}case'SUBMIT_SUCCEEDED':return state.update('initialData',function(){return state.get('modifiedData');});default:return state;}};var _default=reducer;exports["default"]=_default;

/***/ }),

/***/ 2607:
/***/ (function(module) {

module.exports = JSON.parse("[{\"label\":{\"id\":\"content-manager.form.Input.search\"},\"customBootstrapClass\":\"col-md-4\",\"didCheckErrors\":false,\"errors\":[],\"name\":\"settings.searchable\",\"type\":\"bool\",\"validations\":{}},{\"label\":{\"id\":\"content-manager.form.Input.filters\"},\"customBootstrapClass\":\"col-md-4\",\"didCheckErrors\":false,\"errors\":[],\"name\":\"settings.filterable\",\"type\":\"bool\",\"validations\":{}},{\"label\":{\"id\":\"content-manager.form.Input.bulkActions\"},\"customBootstrapClass\":\"col-md-4\",\"didCheckErrors\":false,\"errors\":[],\"name\":\"settings.bulkable\",\"type\":\"bool\",\"validations\":{}},{\"label\":{\"id\":\"content-manager.form.Input.pageEntries\"},\"customBootstrapClass\":\"col-md-4\",\"didCheckErrors\":false,\"errors\":[],\"description\":{\"id\":\"content-manager.form.Input.pageEntries.inputDescription\"},\"name\":\"settings.pageSize\",\"options\":[10,20,50,100],\"type\":\"select\",\"validations\":{}},{\"label\":{\"id\":\"content-manager.form.Input.defaultSort\"},\"customBootstrapClass\":\"col-md-4 ml-md-auto\",\"didCheckErrors\":false,\"errors\":[],\"style\":{\"marginRight\":\"-20px\"},\"name\":\"settings.defaultSortBy\",\"options\":[\"id\"],\"type\":\"select\",\"validations\":{}},{\"label\":{\"id\":\"app.utils.defaultMessage\"},\"customBootstrapClass\":\"col-md-2\",\"didCheckErrors\":false,\"errors\":[],\"name\":\"settings.defaultSortOrder\",\"options\":[\"ASC\",\"DESC\"],\"type\":\"select\",\"validations\":{}}]");

/***/ })

}]);